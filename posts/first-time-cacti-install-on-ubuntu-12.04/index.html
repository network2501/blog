<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en-au" xmlns="http://www.w3.org/1999/xhtml"><head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="data:;base64,iVBORw0KGgo=" />
    
    
    <title>network2501 | First time Cacti install on Ubuntu 12.04</title>
    <style type="text/css">
  body {
    font-size: 150%;
    font-family: muli,avenir,helvetica neue,helvetica,ubuntu,roboto,noto,segoe ui,arial,sans-serif;
  }
</style>

</head>
<body><p><a href="#nav-menu">Menu</a></p>



<h1>First time Cacti install on Ubuntu 12.04</h1>


  </p>



  
  

  <p>Dec 12, 2012</p>




<p>Networks are great when they work but when they don&rsquo;t, how do you know you&rsquo;ve fixed things properly? How are you going to be sure that everything is back to normal? You can do this with graphs and you can do it relatively cheaply with an application called <a href="http://www.cacti.net/" title="Cacti">Cacti</a>. So today I&rsquo;m going to show you just how easy it is to get Cacti up and running on Ubuntu server. First you&rsquo;ll need to download Cacti from your local repository.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">pete@ubuntu:~$ sudo apt-get install cacti <span style="color:#f92672">[</span>sudo<span style="color:#f92672">]</span> password <span style="color:#66d9ef">for</span> pete:</code></pre></div>
<p>Cacti does require a database but don&rsquo;t let that scare you off. The first prompt during the installation process is to choose whether you set one up your self or alternatively (what I do for home) let dbconfig-common take care of the heavy work.</p>
<p><img src="http://blog.network2501.com/images/01-configure-databse-768x337.png" alt="01 configure databse"></p>
<p>Creating a database for cacti doesn&rsquo;t take long and you&rsquo;ll be quickly prompted to enter an admin password for the newly created MySQL database. In a production environment this password would likely need to be super strong but this is my home box so I&rsquo;ll admit I&rsquo;m pretty lax.</p>
<p><img src="http://blog.network2501.com/images/02-choose-database-admin-pw-768x337.png" alt="02 choose database admin pw"></p>
<p>You&rsquo;ve just set the database admin password but now the database cacti account needs one too. The database cacti account is created automagically and you have the option to leave the password field blank in which case a password will be generated for you or you can create one yourself. I choose to create one myself here becauseâ€¦ I can.</p>
<p><img src="http://blog.network2501.com/images/03-cacti-steps-768x336.png" alt="03 cacti steps"></p>
<p>It&rsquo;d suck if you miss typed your password and I guess that&rsquo;s why I write my more tricky passwords out and then copy and paste it in using <a href="http://network2501.com/bite/shift-into-gear/">shift+insert</a>. However there&rsquo;s some inbuilt checks and balances during this process so you&rsquo;ll need to enter that password in again.</p>
<p><img src="http://blog.network2501.com/images/04-cacti-steps.png" alt="04 cacti steps"></p>
<p>You&rsquo;ve created all your accounts, now it&rsquo;s time to install a web server so you can get to your Cacti front page. I&rsquo;ve used Apache2 in the past and it just worked so that&rsquo;s my go to default web server but if you have a preference then by all means use what you&rsquo;re most comfortable with.</p>
<p><img src="http://blog.network2501.com/images/05-cacti-steps.png" alt="05 cacti steps"></p>
<p>That&rsquo;s the last of the prompts and by the end of it you&rsquo;ll be left with a CLI that looks something like this.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">pete@ubuntu:~$ sudo apt-get install cacti
Reading package lists... Done
Building dependency tree
Reading state information... Done
Suggested packages:
  php5-ldap
The following NEW packages will be installed:
  cacti
<span style="color:#ae81ff">0</span> upgraded, <span style="color:#ae81ff">1</span> newly installed, <span style="color:#ae81ff">0</span> to remove and <span style="color:#ae81ff">10</span> not upgraded.
Need to get 1,891 kB of archives.
After this operation, 4,766 kB of additional disk space will be used.
Get:1 ftp://ftp.iinet.net.au/linux/ubuntu/ precise/universe cacti all 0.8.7i-2ubuntu1 <span style="color:#f92672">[</span>1,891 kB<span style="color:#f92672">]</span>
Fetched 1,891 kB in 2s <span style="color:#f92672">(</span><span style="color:#ae81ff">919</span> kB/s<span style="color:#f92672">)</span>
Preconfiguring packages ...
Selecting previously unselected package cacti.
<span style="color:#f92672">(</span>Reading database ... <span style="color:#ae81ff">52860</span> files and directories currently installed.<span style="color:#f92672">)</span>
Unpacking cacti <span style="color:#f92672">(</span>from .../cacti_0.8.7i-2ubuntu1_all.deb<span style="color:#f92672">)</span> ...
Setting up cacti <span style="color:#f92672">(</span>0.8.7i-2ubuntu1<span style="color:#f92672">)</span> ...
dbconfig-common: writing config to /etc/dbconfig-common/cacti.conf

Creating config file /etc/dbconfig-common/cacti.conf with new version
Replacing config file /etc/cacti/debian.php with new version
granting access to database cacti <span style="color:#66d9ef">for</span> cacti@localhost: success.
verifying access <span style="color:#66d9ef">for</span> cacti@localhost: success.
creating database cacti: success.
verifying database cacti exists: success.
populating database via sql...  <span style="color:#66d9ef">done</span>.
dbconfig-common: flushing administrative password
 * Reloading web server config apache2
apache2: Could not reliably determine the server<span style="color:#960050;background-color:#1e0010">&#39;</span>s fully qualified domain name, using 127.0.1.1 <span style="color:#66d9ef">for</span> ServerName  </code></pre></div>
<p>Hopefully everything went according to plan for you and you&rsquo;ve just successfully installed Cacti. From here on in you&rsquo;ll need to fine tune the setup from the Cacti webpage. You can now access Cacti on  where x.x.x.x is your servers IP address.</p>
<p>For this blog post my servers IP was 172.16.0.46 so my cacti URL was . When you access cacti for the first time you&rsquo;ll be prompted with the welcome screen seen below. Click Next &gt; &gt;</p>
<p><img src="http://blog.network2501.com/images/06-cacti.png" alt="06 cacti"></p>
<p>Secondly you&rsquo;re prompted to select if this is a new install or an upgrade. We&rsquo;re installing this from scratch so new install it is. Click Next &gt; &gt;</p>
<p><img src="http://blog.network2501.com/images/07-cacti.png" alt="07 cacti"></p>
<p>This is where things can get a bit hairy. I remember when I first installed Cacti not all of these paths were found successfully but it seems to have worked fine with my Ubuntu server 12.04 setup. Everything appears to be super green. Click Next &gt; &gt;</p>
<p><img src="http://blog.network2501.com/images/08-cacti-steps.png" alt="08 cacti"></p>
<p>Default password fun times off the starboard bow. The first time you log in your details are as follow;</p>
<p>Username: <strong>admin</strong><br>
Password: <strong>admin</strong></p>
<p><img src="http://blog.network2501.com/images/09-cacti-steps.png" alt="09 cacti steps"></p>
<p>Once you&rsquo;ve logged in with the defaults it&rsquo;s time to secure things a bit so enter in a new admin password.</p>
<p><img src="http://blog.network2501.com/images/10-cacti-steps.png" alt="10 cacti steps"></p>
<p>You&rsquo;re logged into Cacti using the admin account and that&rsquo;s it. You&rsquo;ve successfully installed and set up Cacti.</p>
<p><img src="http://blog.network2501.com/images/11-cacti-steps.png" alt="11 cacti steps"></p>
<p>More blog posts to come on how to add your Cisco or Juniper network devices. I look forward to hearing how your install went.</p>




  <p><strong>Related categories:</strong></p>

  <ul>

  
  
  
  <li><a href="http://network2501.github.io/categories/monitoring">monitoring</a></li>
  
  

  </ul>





  <p><strong>Related tags:</strong></p>

  <ul>

  
  
  
  <li><a href="http://network2501.github.io/tags/cacti">cacti</a></li>
  
  
  <li><a href="http://network2501.github.io/tags/monitoring">monitoring</a></li>
  
  
  <li><a href="http://network2501.github.io/tags/graphing">graphing</a></li>
  
  
  <li><a href="http://network2501.github.io/tags/ubuntu">ubuntu</a></li>
  
  
  <li><a href="http://network2501.github.io/tags/howto">howto</a></li>
  
  

  </ul>




<p><a name="nav-menu" id="nav-menu"><strong>Site menu</strong></a></p>

<ul>
    
    <li>
      <a href="/">
      
      Home
      </a>
    </li>
    
    <li>
      <a href="/posts/">
      
      Posts
      </a>
    </li>
    
</ul>

<p><a href="#">Back to top</a></p>
</body>
</html>
